<template>
    <div class="container">
        <!-- 當 attractions、hotels 或 shops 中的任一個為 null 時顯示 "資料載入中"。 -->
        <div v-if="attractions === null || hotels === null || shops === null">資料載入中</div>
        <!-- 當所有資料都已經載入時，顯示內容。 -->
        <div class="content" v-else>
            <!-- 每個 <path> 元素都有一個 mouseover 和 mouseleave 事件監聽器，用於處理滑鼠懸停和離開時的行為 -->
            <svg xmlns="http://www.w3.org/2000/svg" class="map" viewBox="0 0 565 535"
                style="width: 565px; height: 535px;">
                <path v-for="path in pathsData" :key="path.id" :d="path.d" class="cls-1" :id="path.id"
                    @mouseover="handleMouseOver(path)" @mouseleave="handleMouseLeave">
                    <title>{{ path.name }}</title>
                </path>
            </svg>
            <div class="info-box" v-if="hoveredAttractionsCount > 0 || hoveredHotelsCount > 0 || hoveredShopsCount > 0">
                <h6 class="district-name">{{ hoveredDistrict }}</h6>
                <h3>{{ hoveredAttractionsCount }} &nbsp;Attractions</h3>
                <p>({{ hoveredAttractionsCount }} 個景點在這個區域)</p>
                <h3>{{ hoveredHotelsCount }} &nbsp;Hotels</h3>
                <p>({{ hoveredHotelsCount }} 家旅宿在這個區域)</p>
                <h3>{{ hoveredShopsCount }} &nbsp;Shops</h3>
                <p>({{ hoveredShopsCount }} 個商家在這個區域)</p>
            </div>
        </div>
    </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';
// // 地圖上各區域的路徑資訊
const pathsData = [
    {
        id: "_新營區",
        name: "新營區",
        d: "M227.15,162.6l4.64-3.97,1.99-6.62,8.61-5.96v-13.25l11.26-4.64,6.62,5.3,5.3,1.32,4.64-11.26,3.31,3.31,3.31-6.62,2.65-7.95,6.62,3.31,4.64-2.65-1.32-2.65-1.32-2.65-8.61-.66-5.3-1.99-7.29-5.3-9.93,1.32-4.64-2.65-4.35-6.24-2.01-.53-2.91,8.76-3.31,7.29-3.97,2.65-10.6-.66,1.99,8.61v4.64l-5.3,3.97-3.97,10.6-9.27,4.64-3.97-1.99,1.99,10.6,5.96,6.62-1.32,5.3v5.96l.08,2.41,5.22.23,6.62-6.62,3.97-1.99h-.03Z"
    },
    {
        id: "_柳營區",
        name: "柳營區",
        d: "M332.46,179.16l-2.65,7.29-3.97.66-3.31-.66-5.3-1.32-7.95-1.32-11.92,3.31-8.61-4.64.66-7.29-1.99-3.31-3.31-1.99-7.95-6.62-1.99,1.99-5.96-1.32-7.95-3.31-1.32,8.61-5.96-7.29h-3.97l-11.92,2.65-6.46-4.83,1.16-1.13,1.99-6.62,8.61-5.96v-13.25l11.26-4.64,6.62,5.3,5.3,1.32,4.64-11.26,3.31,3.31,1.32,2.65,5.3,3.97,7.95-6.62,7.29,3.31,4.64,2.65,9.93,3.97,9.27,4.64,5.3,1.99-5.96,6.62,1.99,7.95,6.62,7.29,5.3,7.29v6.62h0Z"
    },
    {
        id: "_六甲區",
        name: "六甲區",
        d: "M332.46,179.16l-2.65,7.29-3.97.66-3.31-.66-5.3-1.32-7.95-1.32-11.92,3.31-8.61-4.64.66-7.29-1.99-3.31-3.31-1.99-7.95-6.62-1.99,1.99-5.96-1.32-7.95-3.31-1.32,8.61-5.96-7.29c-2.86-.91-4.44,3.86-6.62,5.96l-1.32,6.62-5.3,4.64-3.97,8.61,1.32,8.61,5.96,2.65,1.99-2.65,11.26-1.99,1.32-3.31,13.25,5.3,10.6,2.65.66,8.61,11.92-3.31h7.29l3.31,3.97,1.32,11.92,6.62,1.99,7.95-6.62,3.31-3.31,8.61,3.31,3.47,1.29,11.1-1.29,10.6,1.99.66,4.64,3.97-9.27,7.29-13.91c1.48-.96,3.56-1.86.66-3.31l-8.61-5.96-7.29-1.99-3.97,1.99-1.32-9.27-7.29,3.97-7.95-6.62"
    },
    {
        id: "_官田區",
        name: "官田區",
        d: "M286.76,258.63l-2.65-.66-11.26-1.99-11.26-6.62-7.95-7.29-7.29-2.65-11.34,1.01.74-4.99,3.97-3.97-3.31-6.62,1.32-9.27,2.65-2.65-3.31-6.62c1.15-3.83-.05-11.6,5.87-7.41l2.08-2.52,11.26-1.99,1.32-3.31,13.25,5.3,10.6,2.65.66,8.61,11.92-3.31h7.29l3.31,3.97,1.32,11.92,6.62,1.99,7.95-6.62,3.31-3.31,8.61,3.31c3.41-.18,5.58.8,1.99,7.29l-4.64,7.95-3.97,9.93v6.62h-24.5l-5.96,6.62-8.61,4.64h0Z"
    },
    {
        id: "_善化區",
        name: "善化區",
        d: "M205.3,275.19l-1.25,2.93,7.21.05,3.97,2.32,1.99,3.64.66,3.31,2.65-.33-2.65,6.95,3.31,1.66,8.61,1.99,3.31,5.3,6.62-3.97,5.96,1.99,4.64-7.29,6.62,4.64,5.96,1.99h4.64l3.47-.48-.16-1.51-.66-9.93,4.64-9.93,3.31-3.97,1.99-3.97,2.65-7.95,1.32-4.64-11.26-1.99-11.26-6.62-7.95-7.29-7.29-2.65-9.93.66-3.31.66-11.92.66-2.65,4.64-3.97,8.61-.66,9.27,4.64,2.65-5.3,4.64-7.95,3.97h0Z"
    },
    {
        id: "_下營區",
        name: "下營區",
        d: "M183.94,188.93l.83.83,9.93,10.6,5.3,6.62,6.62.66.66,3.97s3.97,4.64,7.29,4.64,6.62-.66,9.27-.66,8.61,1.32,8.61,1.32l2.65-3.31,5.3-.66-3.31-6.62,1.32-5.96,1.1-2.97-2.42-1.01-1.32-8.61,3.97-8.61,5.3-4.64,1.32-6.62c1.04-2.05,7.82-6.41,2.65-5.96l-11.92,2.65-6.35-4.71-3.59,2.72-3.97,1.99-6.62,6.62h-6.62l-8.61,5.3-2.65,3.31-9.27,1.99-5.46,7.12h-.01Z"
    },
    {
        id: "_大內區",
        name: "大內區",
        d: "M335.77,296.38c-.63,2.68-1.43,4-2.65,1.99l-3.97-5.3-.66,4.64-16.56,9.93-9.27-.66-6.62-7.95-11.92-5.96-4.64-11.26-3.73-3.89,4.39-7.37,3.52-10.84,3.1-1.08,8.61-4.64,5.96-6.62h24.5v-6.62l3.97-9.93,4.64-7.95,1.99-6.62,10.6-.66,10.6,1.99.66,7.95-2.65,5.3-7.29,11.26-.66,4.64-4.64,5.3-3.31,15.89,3.31,5.96.66,8.61-1.99,6.62-5.96,7.29h0v-.02Z"
    },
    {
        id: "_山上區",
        name: "山上區",
        d: "M333.12,298.37c.37.46.94.71,1.31,1.17l.14.63-8.07,5.49s-.66,6.62-.66,9.27v6.62l.66,4.64-4.64-.33-6.62.33-6.62-3.31-8.61,5.3-3.31,3.31-3.97-.66-5.96-7.29h-3.97l-3.31-8.61-4.64-7.29-3.31-3.97-.66-5.3-.66-9.93,5.11-10.38,4.16,3.75,4.64,11.26,11.92,5.96,6.62,7.95,9.27.66,16.56-9.93.66-4.64,3.97,5.3h-.01Z"
    },
    {
        id: "_玉井區",
        name: "玉井區",
        d: "M326.5,326.18l-.66-4.64v-6.62c0-2.65.66-9.27.66-9.27l7.95-5.3,1.32-3.97,5.96-7.29,1.99-6.62-.66-8.61-3.31-5.96,3.31-15.89,4.64-5.3.66-4.64,7.29-11.26,2.65-5.3.66,1.32,7.29,15.23,8.61,7.95-1.99,7.95-1.32,9.93,10.6-1.32,1.99,10.6-3.97,3.97,8.61,5.3,2.65-6.62,3.31,5.3,10.6-4.64,5.3,5.3,4.64,1.99,2.59,3.32c-.58.74-1.1,1.53-1.59,2.31-1.99,3.15-3.64,6.29-3.64,6.29l-5.96,11.26s-7.29,2.65-10.6,2.65-13.25-.66-13.25-.66l-4.64,1.32s3.31,13.25.66,13.25h-8.61l-7.29-5.96v-3.97l-7.29,3.97-5.3.66-1.99,9.93-6.62,5.3-2.65-2.65-5.96-3.31-6.62-5.3h-.02Z"
    },
    {
        id: "_左鎮區",
        name: "左鎮區",
        d: "M341.73,337.44l-2.65-2.65-5.96-3.31-6.62-5.3-5.96-.66-5.3.66-6.62-3.31-8.61,5.3-3.31,3.31-3.03-.48c-.44,4.35,3.22,8.71,5.01,13.06l7.29,7.29,1.32,5.3-.66,13.25v8.61l11.92-1.99-4.64,7.29c.66.89.29,3.37,1.99,2.65l3.97,1.32,5.96,7.95,1.32,13.91,2.65,10.6,15.89,3.97,5.67,1.82,7.91-18.95,7.95-1.99,2.65-7.95.66-9.27-4.97,1.23-4.64-6.62-9.27,3.97-1.99-13.25-6.62-.66,4.64-11.92s-5.96-7.29-5.96-9.93v-13.25h0Z"
    },
    {
        id: "_南化區",
        name: "南化區",
        d: "M341.73,337.44l6.62-5.3,1.99-9.93,5.3-.66,7.29-3.97v3.97l7.29,5.96h8.61c2.65,0-.66-13.25-.66-13.25l4.64-1.32s9.93.66,13.25.66,10.6-2.65,10.6-2.65l5.96-11.26s1.66-3.15,3.64-6.29c.5-.79,1.01-1.57,1.53-2.31s1.03-1.43,1.53-2.02c.99-1.18,1.9-1.97,2.57-1.97,2.65,0,13.25-1.99,13.25-1.99l-1.99-7.95-1.32-11.26,9.93-9.93,3.31-16.56,8.61-19.21,9.27-14.57-.32-2.22,3.97-.99,9.93-14.57,9.27,6.62,7.95,2.65,16.56-3.31,6.62,3.31,1.33-1.97,7.95,5.96-1.99,7.95-10.59,13.25-.66,9.93-21.19,28.47-4.64.66-14.57,17.88-.66,9.27-3.31,6.62-1.32,9.27-3.31,1.99-.66.66-1.32,7.94-9.93,5.96-5.96,6.62-27.15,18.54-9.27,14.57-23.84,17.21-.66,9.27-14.54.7-.42,2.55-4.59-1.35-4.64-6.62-9.27,3.97-1.99-13.25-6.62-.66,4.64-11.92s-5.96-7.29-5.96-9.93v-13.25h0l-.06.03Z"
    },
    {
        id: "_楠西區",
        name: "楠西區",
        d: "M417.83,291.09l-2.59-3.32-4.64-1.99-5.3-5.3-10.6,4.64-3.31-5.3-2.65,6.62-8.61-5.3,3.97-3.97-1.99-10.6-10.6,1.32,1.32-9.93,1.99-7.95-8.61-7.95-7.29-15.23-.66-4.64,3.97-9.27,7.29-13.91,3.97-2.65h13.91l9.27-3.97,3.97-6.62,13.25-7.29,10.61-.24-4.3,6.29,2.65,6.62,15.9,4.64,11.26,7.95,8.61.66,3.97-.99.32,2.22-9.27,14.57-8.61,19.21-3.31,16.56-9.93,9.93,1.32,11.26,1.99,7.95s-10.6,1.99-13.25,1.99c-.66,0-1.57.79-2.57,1.97-.5.59-.95,1.27-1.47,2.01h.02Z"
    },
    {
        id: "_東山區",
        name: "東山區",
        d: "M370.21,195.71c.93,1.49,1.89,2.81,3.31.66h13.91l9.27-3.97,3.97-6.62,13.25-7.29,10.61-.24,4.3-6.29-1.99-6.62-5.3-8.61-1.33-6.62,3.31-6.62-2.65-7.66-.41-5.49-3.9.46-3.31-2.65h-8.61l-5.3,2.65-4.64-.66-8.61-1.32-3.31,7.95-4.64-7.95-4.64,1.99-3.97-2.65-8.61-1.32-7.95,3.31-2.65-3.31-1.32-9.27-4.64-4.64-7.95-3.97-8.61-5.96-5.96-1.99-.66-4.64.25-1.83-6.88,3.15,1.32,6.62-1.32,3.31-8.61-2.65v9.27l-5.96-6.62-6.62,1.99-3.97.66,1.32,2.65-4.64,2.65-6.62-3.31-2.65,7.95-3.31,6.62,1.32,2.65,5.3,3.97,7.95-6.62,7.29,3.31,4.64,2.65,9.93,3.97,9.27,4.64,5.3,1.99-5.96,6.62,1.99,7.95,6.62,7.29,5.3,7.29v6.62l1.32-1.32,7.95,6.62,7.29-3.97,1.32,9.27,3.97-1.99,7.29,1.99,8.61,5.96h.02Z"
    },
    {
        id: "_白河區",
        name: "白河區",
        d: "M317.23,41.5l-.67,2.55v6.62h7.95l5.96,7.95-5.3,13.25-5.3,3.31-5.3,3.31,3.97,7.95,3.31,6.62-.66,3.31.66,4.64,5.96,1.99,8.61,5.96,7.95,3.97,4.64,4.64,1.32,9.27,2.65,3.31,7.95-3.31,8.61,1.32,3.97,2.65,4.64-1.99,4.64,7.95,3.31-7.95,8.61,1.32,4.64.66,5.3-2.65h8.61c2.83,3.34,5.18,2.97,7.23,2.65l-.27-3.87,3.98-7.28,5.96-4.64.66-7.95-2.65-7.28-9.27-.67-9.93-3.31-2.65-5.96,6.62-4.64-.66-8.61-20.53-1.32v-8.61l6.62-4.64,3.97-5.96-5.3-4.64-5.96,3.31-7.95-1.99-6.62-5.3-8.61-2.65-4.64-5.96-9.93-2.65-.66,1.32-5.96,3.98-8.61.66-5.3-5.3-8.61,1.32-6.95,3.31h0v.03Z"
    },
    {
        id: "_後壁區",
        name: "後壁區",
        d: "M317.23,41.5l-.67,2.55v6.62h7.95l5.96,7.95-5.3,13.25-5.3,3.31-5.3,3.31,3.97,7.95,3.31,6.62-.41,1.48-6.88,3.15,1.32,6.62-1.32,3.31-8.61-2.65v9.27l-5.96-6.62-6.62,1.99-3.97.66-1.32-2.65-8.61-.66-5.3-1.99-7.29-5.3-9.93,1.32-4.64-2.65-3.97-5.96-2.65-1.04v-9.55l-7.95-3.31-3.39-1.29,1.07-7.22,18.54-1.32-.66-7.95,16.56.66,3.98-6.62.66-.66,15.9-9.27h19.87l6.95-3.31h0Z"
    },
    {
        id: "_鹽水區",
        name: "鹽水區",
        d: "M211.26,168.56l.2,2.65-10.13,5.3-2.65,3.31c-.99.45-1.82-.47-2.65-1.32l-1.32-1.99-7.29-6.62-7.29-5.96,7.29-7.95-9.93,7.29h-7.29l-7.29,1.99c-.88-2.49-2.11-4.54-3-7.39l-.34-2.14,1.91-.31,9.37-3.75,5.62-4.21v-9.83l-.64-.41,3.97-1.66,8.61-12.58,1.99-7.95,25.17-12.59,1.32-4.64-2.65-7.28,5.3-5.3,6.62,3.98,4.64-3.98,3.57-8.01,3.39,1.29,7.95,3.31v13.91l-2.65,4.64-3.31,7.29-3.97,2.65-10.6-.66,1.99,8.61v4.64l-5.3,3.97-3.97,10.6-9.27,4.64-3.97-1.99,1.99,10.6,5.96,6.62-1.32,5.3v5.96h0l-.03-.03Z"
    },
    {
        id: "_鹽水區",
        name: "鹽水區",
        d: "M176.82,250.02c.24,1.64-.58,3.47,2.32,4.64l5.3,4.97,1.66,3.64,5.3,7.29,8.94,3.31c.21,2.25.13,4.64,1.46,6.41,2.06-1.44,2.52-3.34,3.51-5.09l7.95-3.97,5.3-4.64-4.64-2.65.66-9.27,3.97-8.61,2.65-4.64,13.56-1.36,1.01-4.6,3.97-3.97-3.31-6.62c.5-1.75.77-7.38,1.85-9.73.81-1.75,2.23-2.21,1.82-2.9-.32-.53.32-.07,0,0l-4.99,1.37-2.65,3.31s-5.96-1.32-8.61-1.32-5.96.66-9.27.66-7.29-4.64-7.29-4.64l-.66-3.97-6.62-.66-5.3-6.62-9.93-10.6h-1.32l-3.97,8.61-4.64,3.97h-6.62l-9.27,5.3-1.67,2.1,5.62,3.28,1.4,3.28-2.34,4.68,8.9,2.81,2.34,2.34-.94,3.75,5.9,2.6,1.32,6.95-.99,2.65,2.65,3.64-4.3,4.3h-.03Z"
    },
    {
        id: "_學甲區",
        name: "學甲區",
        d: "M183.44,189.75l-3.97,8.61-4.64,3.97h-6.62l-9.27,5.3-1.67,2.1-7.02-1.87-2.11-.94-.23-3.28-3.75-7.02-4.68-8.43-7.49-3.28h-7.02l-4.68,5.15c-1.18-.53-3.15-.49-1.87-2.81l1.4-7.49-.47-7.02-4.21-3.28,5.15-6.56,4.21.94,1.87-6.09v-8.9l-2.34-11.24.47,3.75,7.02-1.87,7.02,9.37,9.37-2.81,5.06-8.66,3.74.16.03-7.23,3.12,5.06,12.17,3.49,4.66-1.76-.3,10.42-5.51,4.16-11.26,4.19v1.42l3.31,7.95,7.29-1.99h7.29l9.93-7.29-7.29,7.95,7.29,5.96,7.29,6.62,1.32,1.99,1.42,1.55-8.04,1.77-5.96,7.95"
    },
    {
        id: "_北門區",
        name: "北門區",
        d: "M147.9,146.04l-9.37,2.81-7.02-9.37-7.02,1.87-.47-3.75,2.34,11.24v8.9l-1.87,6.09-4.21-.94-5.15,6.56,4.21,3.28.47,7.02-1.4,7.49-.47,2.34-8.9,3.75-14.99,2.34h-11.71l-7.49-4.21c-2.51-1.34-1.85-3.04-1.35-4.72l1.64-3.36,6.31,1.64,1.97-3.61,1.06-4.34,6.56-6.23-1.97-4.02-.66-4.59,2.29-3.36,8.93-3.28,5.65-8.27-4.26,1.31-3.03-.66-7.29-4.34.66-4.59,3.36-2.38,1.64-4.92-2.62-.33-1.64-3.36,10.24-17.87,18.85,3.36,2.62,2.62.36.8,7.28,4.64,9.93,1.99,2.65,7.95,5.96,5.3,3.04.3"
    },
    {
        id: "_佳里區",
        name: "佳里區",
        d: "M124.48,228.93l4.68,1.4-5.15,8.9-2.81,7.02,4.68,5.62,6.56,4.21v5.15l-3.75,2.81,1.87,8.43-6.09,4.68,2.34,4.21.94,3.28,3.75,3.28,5.15,3.28,7.49-1.87c2.93,1.07,1.03-2.41,1.4-3.75v-6.56l2.34-4.68,5.15-5.62,6.09-.94v-4.68l4.21-2.81-2.81-6.56,2.81-2.34,8.43.94,7.55,2.4-1.93-1.93-.58-2.8,4.3-4.3-2.65-3.64.99-2.65-1.32-6.95-5.9-2.6.94-3.75-2.34-2.34-8.9-2.81,2.34-4.68-1.4-3.28-5.62-3.28-7.02-1.87-2.11-.94.23,3.28-1.87,8.9-4.21,7.96-1.87,5.62-9.37-1.87-4.21-1.4-2.34-.47h0"
    },
    {
        id: "_西港區",
        name: "西港區",
        d: "M146.49,290.28c-1.8-.52-.66-3.1-.94-4.68v-6.56l2.34-4.68,5.15-5.62,6.09-.94v-4.68l4.21-2.81-2.81-6.56,2.81-2.34,8.43.94,5.4,1.54,1.96.77,5.3,4.97,1.66,3.64,5.3,7.29,8.94,3.31.33,4.3.82,2.26-1.81,1.72-8.61.33-3.31,4.97s-8.94,6.95-10.6,7.62c-1.66.66-7.62,6.29-8.94,6.29s0,5.63,0,5.63l-3.31,6.29-5.63,3.64c.04,3-1.67,3.01-3.97,1.99l-5.63-.33-4.97-4.64-.08-6.79,1.87-8.43,2.34-3.75-2.34-4.68h0"
    },
    {
        id: "_安定區",
        name: "安定區",
        d: "M217.88,294.06l2.65-6.95-2.65.33-.66-3.31-1.99-3.64-3.97-2.32h-3.64l-3.49.17-4.46,3.8-8.61.33-3.31,4.97s-8.94,6.95-10.6,7.62c-1.66.66-7.62,6.29-8.94,6.29s0,5.63,0,5.63l-3.31,6.29-5.63,3.64-1.03,2.79,5.66.52,1.66,5.3,4.97,3.31,6.29-2.32h6.29l3.64,1.66,2.65.33,2.32.66,1.66-2.65,2.65,1.32,6.29,1.99,3.64-4.64-.99-5.3v-3.64l.33-2.32.66-2.98-2.65-2.65-1.66-2.98,4.3-2.98,2.98-.66h0l5.63-.99,3.31-6.62"
    },
    {
        id: "_新市區",
        name: "新市區",
        d: "M282.79,323.54l-3.31-8.61-4.64-7.29c-5.31-3.58-1.39-9.28-7.03-7.35l-4.89.06-5.96-1.99-6.62-4.64-4.64,7.29-5.96-1.99-6.62,3.97-3.31-5.3-8.61-1.99-3.31-1.66-3.31,6.62-5.63.99h0l-2.98.66-4.3,2.98,1.66,2.98,2.65,2.65-.66,2.98-.33,2.32v3.64l.99,5.3-3.64,4.64-6.29-1.99-2.65-1.32-1.66,2.65,3.64,1.66,7.62,3.31,3.64,2.65,7.95,4.64,13.25,4.64,7.29-1.99,8.61,1.99.66-3.97,5.3,6.62,7.29-3.97,8.61-4.64,5.96,1.32,1.99-5.96,4.64-8.61-1.32-3.97,5.96.66"
    },
    {
        id: "_新化區",
        name: "新化區",
        d: "M292.72,330.82c1.23-.37,1.24,1.89,1.32,3.97l4.64,9.27,7.29,7.29,1.32,5.3-.66,13.25v8.61l11.92-1.99-4.64,7.29c1.76,2.45.99,3.86-1.32,4.64l-14.57,1.99-9.27,5.3-2.65,1.99-5.96,4.64s-5.3-5.96-7.29-8.61c-1.99-2.65-1.99-8.61-1.99-8.61l-13.25.66-17.83-3.53-1.37-4.42-5.96-3.31,2.65-10.6-7.29.66,5.3-7.95-5.3-10.6,7.29-1.99,8.61,1.99.66-3.97,5.3,6.62,7.29-3.97,8.61-4.64,5.96,1.32,1.99-5.96,4.64-8.61-1.32-3.97,5.96.66h3.97l5.96,7.29h-.01"
    },
    {
        id: "_龍崎區",
        name: "龍崎區",
        d: "M292.72,474.29l-.67-2.41-4.64-3.31.66-9.93-3.31-9.93v-15.89l5.96-6.62,7.95,3.97,1.99-5.96-3.97-3.31,4.64-3.97.66-5.96-6.62-5.3-4.64-3.31c-4.03-3.01-5.67-5.45-1.99-6.62l9.27-5.3,14.57-1.99,3.31-1.99,3.97,1.32,5.96,7.95,1.32,13.91,2.65,10.6,15.89,3.97c5.6.47,6.1,2.73,3.65,6.05l-1.32,8.61-2.65,3.31-3.98,1.99-3.98,16.56h-7.94l-6.62-3.98-9.27.66-7.95,2.65-4.64,6.62-8.28,7.62h.02"
    },
    {
        id: "_關廟區",
        name: "關廟區",
        d: "M264.9,478.51l-2.15,1.41,11.76,2.65,9.93-.66,8.28-7.62-.67-2.41-4.64-3.31.66-9.93-3.31-9.93v-15.89l5.96-6.62,7.95,3.97,1.99-5.96-3.97-3.31,4.64-3.97.66-5.96-6.62-5.3-4.64-3.31-4.64-4.64-5.96,4.64s-5.3-5.96-7.29-8.61c-1.99-2.65-1.99-8.61-1.99-8.61l-13.25.66-13.25-2.65-4.57-.9,3.25,4.87,1.32,11.26-2.65,13.91,10.6,2.65,3.97,7.29v9.93l7.95,8.61.66,12.58-2.65,13.91,2.65,11.26h.02"
    },
    {
        id: "_歸仁區",
        name: "歸仁區",
        d: "M264.9,478.51l-2.15,1.41-11.76-2.65-23.51-5.3-3.98,5.3-5.3-.66-3.72-1.83.07-3.56-1.32-4.64,3.97-5.3v-10.6l7.95-1.99-3.97-6.62-1.32-7.29,2.65-11.26-1.32-7.29,1.99-10.6v-7.95l1.99-3.97,3.31-8.61,8.61-3.97c1.5-.94,2.41-.55,2.65,1.32l3.31,4.64,1.32,11.26-2.65,13.91,10.6,2.65,3.97,7.29v9.93l7.95,8.61.66,12.58-2.65,13.91,2.65,11.26h0v.02"
    },
    {
        id: "_仁德區",
        name: "仁德區",
        d: "M177.15,423.54l.33,7.29-.99,4.97-7.62-1.66-2.98,5.96-1.99,7.62-3.31,2.65-4.64,4.64,1.33,1.75,21.86,8.61,6.62-3.31,4.64,2.65,9.93,10.59h9.27l1.33-1.99c2.59,1.5,4.62,2.45,3.64-2.08l-1.32-4.64,3.97-5.3v-10.6l7.95-1.99-3.97-6.62-1.32-7.29,2.65-11.26-1.32-7.29,1.99-10.6c-.25-1.79.92-5.23-.83-5.3l-8.44-2.65-7.95.66-3.31,5.3-.64-1.5-1.68,6.47-2.98,2.98-1.66,6.29-1.99,3.97-6.95-.33-5.3-.99-4.3,2.98"
    },
    {
        id: "_南區",
        name: "南區",
        d: "M141.75,464.23l2.4-.44c.94,0,4.21-2.11,4.21-2.11l2.11-3.28,5.39-2.34.1-1.06,4.64-4.64,3.31-2.65,1.99-7.62,2.98-5.96,7.62,1.66.99-4.97-.33-7.29.33-1.32-1.66-4.64-.66-6.29-2.24-6.54-2.07,1.24-7.29-.66-.99-3.97-3.31-3.31-6.29,3.31-4.45,2.65-1.21,1.23-2.62,5.65-2.29,2.95v3.36l8.6,2.29-4.34,3.69-4.92-.33-2.7-3.69-2.29-1.31,1.97,5,3.03,3.93,1.31,4.34-1.31,25.16-1.39,3.61,1.39,4.34h-.01"
    },
    {
        id: "_東區",
        name: "東區",
        d: "M174.5,389.76l-.66,4.3-.66,4.3-.33,4.64.33,1.32,1.99,6.95.66,6.29,1.66,4.64.08,1.15,3.9-2.8,5.3.99,6.95.33,1.99-3.97,1.66-6.29,2.98-2.98,1.32-7.29,1.66-5.63-5.96-1.99-3.97-5.79.33,1.49-4.97.66-6.62-1.66-5.96-.99-1.66,2.32h-.02"
    },
    {
        id: "_中西區",
        name: "中西區",
        d: "M134.1,383.14l-1.99.66,2.98,1.66,5.63,3.97,7.62.99h6.29l2.32,5.63,1.56,2.05,4.07,3.25.99,3.97,7.29.66,2.32-1.32-.33-1.66.33-4.64.66-4.3.3-2.32-1.62-1.32-6.62-.33-4.3-2.65-1.66-3.31-3.97.33-7.62-3.97c-.74.07-2.58-.05-3.31.66h0l-3.97,1.32-2.32,1.66-4.64-.99h-.01Z"
    },
    {
        id: "_安平區",
        name: "安平區",
        d: "M137.24,412.73l-3.77,1.1-6.31-9.59-8.93-8.6-.33-1.31-3.48-3.24h2.46l3.31-2.65,5.63-4.3,5.3-1.32.99.99,2.98,1.66,5.63,3.97,7.62.99h6.29l2.32,5.63,1.62,2.18-5.6,3.12-4.51,2.65c-2.04,1.02-4.64,2.87-5.76,4.97l-5.47,3.76h.01Z"
    },
    {
        id: "_將軍區",
        name: "將軍區",
        d: "M58.92,233.62l-.67.79.66-4.63,12.95-24.18-.33-9.92,1.25-5.4,2.07,1.19,7.49,4.21h11.71l14.99-2.34,8.9-3.75,2.34.47,4.68-5.15h7.02l7.49,3.28,4.68,8.43,3.75,7.02.23,3.28.23,3.28-1.87,8.9-4.21,7.96-1.87,5.62-9.37-1.87-4.21-1.4-2.34-.47-2.81-1.87-7.96-4.68-3.75-1.4-1.87,5.62,1.4,6.56-2.81.94-7.96-1.87-12.64-1.4-13.58-3.28-7.02,2.34-6.56,3.75h0v-.03Z"
    },
    {
        id: "_七股區",
        name: "七股區",
        d: "M144.15,289.34l2.34.94,2.34,4.68-2.34,3.75-1.87,8.43-.07,3.62-17.25-1.28-13.11,2.81-19.2,2.81-12.18,7.49-9.37,6.56-10.97,14.2-6.51,4.93-4.92,1.72-.74-2.05-5.57-6.56-1.97-6.31.33-15.57h-5l-1.97-2.29-.66-9.67-.66-1.31.66-9.26,8.6-3.93,8.28-7.62,9.26-3.03h.66l8.6-3.61,2.29-13.93-3.93-1.64-3.03-2.29-1.64-20.9-3.93.33-4.02,1.64-2.95,3.69,3.93-6.64.66-4.63.67-.79,6.56-3.75,7.02-2.34,13.58,3.28,12.64,1.4,7.96,1.87,2.81-.94-1.4-6.56,1.87-5.62,3.75,1.4,7.96,4.68,7.49,3.28-5.15,8.9-2.81,7.02,4.68,5.62,6.56,4.21v5.15l-3.75,2.81,1.87,8.43-6.09,4.68,2.34,4.21.94,3.28,3.75,3.28,5.15,3.28,7.49-1.87h.02Z"
    },
    {
        id: "_永康區",
        name: "永康區",
        d: "M227.82,346.05l-13.25-4.64-7.95-4.64-3.64-2.65-.33,5.63-7.29,5.3-6.95,4.3-5.3,6.95-4.3,8.94-2.98,2.65c-.77.46-2.42.38-1.99,1.59l7.29,5.03,6.95,4.97,1.32,2.65,3.97,5.79M193.38,387.94l3.97,5.79,5.96,1.99-1.66,5.63.99,2.32,3.31-5.3,7.95-.66c2.76,1.06,5.05,3.18,8.44,2.81,1.71.34.57-1.86.83-2.81l1.99-3.97,3.31-8.61,10.43-4.47-.5-2.81-5.96-3.31,2.65-10.6-7.29.66,5.3-7.95-5.3-10.6"
    },
    {
        id: "_北區",
        name: "北區",
        d: "M193.38,387.94l.33,1.49-4.97.66-6.62-1.66-5.96-.99-1.66,2.32-.24,1.54-1.75-.88-6.62-.33-4.3-2.65-1.66-3.31-3.97.33-7.62-3.97-2.7-.61,6.34-4.36,7.95-4.64,7.95-1.99,4.3.33c1.16-.5,1.67-.35,1.66.33l7.29,4.97,6.95,4.97,1.32,2.65,3.97,5.79h.01Z"
    },
    {
        id: "_安南區",
        name: "安南區",
        d: "M62.26,343.03l.66,4.26-.66,4.67,12.21,7.29,2.38.66,4.59,4.26,8.28,4.34,10.33,10.9,3.93,1.97,6.97,6.47,3.48,3.24h2.46l3.31-2.65,5.63-4.3,5.3-1.32,2.98.33,4.64.99,2.32-1.66,3.97-1.32,1.32-1.99,5.63-3.64,7.95-4.64,7.95-1.99,4.3.33,3.64-1.32,2.98-2.65,4.3-8.94,5.3-6.95,6.95-4.3,7.29-5.3.33-5.63-7.62-3.31-5.96-2.32-2.65-.33-3.64-1.66h-6.29l-6.29,2.32-4.97-3.31-1.66-5.3-4.97-.33-3.64-.99-5.63-.33-4.97-4.64-.03-2.98-17.38-1.47-13.11,2.81-19.2,2.81-12.18,7.49-9.37,6.56-10.77,14.52"
    }
];
// 使用 ref 創建可響應式的數據
// ref(null) 代表在組件加載之前我們還沒有從後端獲取到數據。一旦數據加載完成，我們會將其設置為實際的景點數據對象。
// ref(0) 代表在頁面加載時還沒有滑鼠懸停在任何區域，因此景點數量為0。
const attractions = ref(null);
const hoveredAttractionsCount = ref(0);

const hotels = ref(null);
const hoveredHotelsCount = ref(0);

const shops = ref(null);
const hoveredShopsCount = ref(0);

const hoveredDistrict = ref(''); // ''也可以設置為null


// 負責從指定的 URL 中獲取數據並將其賦值給目標參考（targetRef）。如果刪除了這段程式碼，則應用將無法獲取需要的數據。
// 定義異步函式（async function）。它有兩個參數：
// 1. url：代表要從中獲取資料的 API 端點的 URL。
// 2. targetRef：代表一個 Vue ref 物件，用於存儲從 API 獲取的資料。
async function fetchData(url, targetRef) { 
    try {
        const response = await fetch(url);
        const data = await response.json();
        targetRef.value = data;
        console.log(data);
    } catch (error) {
        console.error(`Failed to load data:`, error);
    }
}

// 處理滑鼠懸停事件
function handleMouseOver(path) {
    // 獲取滑鼠懸停區域的景點、旅宿和商家數量
    const attractionsCount = attractions.value.filter(attraction => attraction.district === path.name).length;
    hoveredAttractionsCount.value = attractionsCount;

    const hotelsCount = hotels.value.filter(hotel => hotel.Town === path.name).length;
    hoveredHotelsCount.value = hotelsCount;

    const shopsCount = shops.value.filter(shop => shop.district === path.name).length;
    hoveredShopsCount.value = shopsCount;

    hoveredDistrict.value = path.name;
}

// 處理滑鼠離開事件
function handleMouseLeave() {
    // 將滑鼠懸停的數量歸零
    hoveredAttractionsCount.value = 0;
    hoveredHotelsCount.value = 0;
    hoveredShopsCount.value = 0;
    hoveredDistrict.value = '';
}

onMounted(() => {
    fetchData("/public/檔案/attractions_zh-tw.json", attractions);
    fetchData("/public/檔案/fixed_hotel_C_f.json", hotels);
    fetchData("/public/檔案/shops_zh-tw.json", shops);
});
</script>

<style scoped>
.container {
    display: flex;
    position: relative;
}
.map{
    margin-left: 250px;
}




.district-name {
    font-size: 50px;
    font-weight: bold;
}

.content {
    display: flex;
    align-items: start;
}

.info-box {
    width: 25%;
    padding: 20px;
    background-color: #eff4dd;
    border: 1px solid #f7f2f2;
    position: absolute;
    margin: 70px 0 0 800px;
}

.cls-1 {
    fill: rgb(235, 216, 176);
    stroke: white;
    cursor: pointer;
    transition: fill 0.2s, stroke 0.2s, stroke-width 0.2s;
}

.cls-1:hover {
    fill: #B99362;
    stroke: rgb(227, 227, 190);
    stroke-width: 2px;
    transform: translate(-5px, -5px);
    transition: 0.6s;
}
</style>